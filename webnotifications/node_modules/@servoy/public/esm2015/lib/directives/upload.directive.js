import { Directive, Input, HostListener } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../services/servoy_public.service";
export class UploadDirective {
    constructor(servoyService) {
        this.servoyService = servoyService;
        this.propertyName = 'dataProviderID';
    }
    click(e) {
        this.servoyService.showFileOpenDialog('Please select a file', false, null, this.url);
    }
    ngOnInit() {
        this.url = this.servoyService.generateUploadUrl(this.formname, this.componentName, this.propertyName);
    }
}
UploadDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.2", ngImport: i0, type: UploadDirective, deps: [{ token: i1.ServoyPublicService }], target: i0.ɵɵFactoryTarget.Directive });
UploadDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "12.0.2", type: UploadDirective, selector: "[svyUpload]", inputs: { formname: "formname", componentName: "componentName" }, host: { listeners: { "click": "click()" } }, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.2", ngImport: i0, type: UploadDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[svyUpload]'
                }]
        }], ctorParameters: function () { return [{ type: i1.ServoyPublicService }]; }, propDecorators: { formname: [{
                type: Input
            }], componentName: [{
                type: Input
            }], click: [{
                type: HostListener,
                args: ['click']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3NlcnZveS1wdWJsaWMvc3JjL2xpYi9kaXJlY3RpdmVzL3VwbG9hZC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRyxLQUFLLEVBQVUsWUFBWSxFQUFDLE1BQU0sZUFBZSxDQUFDOzs7QUFNdkUsTUFBTSxPQUFPLGVBQWU7SUFPeEIsWUFBb0IsYUFBa0M7UUFBbEMsa0JBQWEsR0FBYixhQUFhLENBQXFCO1FBRjlDLGlCQUFZLEdBQUcsZ0JBQWdCLENBQUM7SUFHeEMsQ0FBQztJQUVzQixLQUFLLENBQUMsQ0FBUTtRQUNqQyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHNCQUFzQixFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pGLENBQUM7SUFFRCxRQUFRO1FBQ0osSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDMUcsQ0FBQzs7NEdBaEJRLGVBQWU7Z0dBQWYsZUFBZTsyRkFBZixlQUFlO2tCQUgzQixTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxhQUFhO2lCQUN4QjswR0FFWSxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBUWlCLEtBQUs7c0JBQTNCLFlBQVk7dUJBQUMsT0FBTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSAsIElucHV0LCBPbkluaXQsIEhvc3RMaXN0ZW5lcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTZXJ2b3lQdWJsaWNTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvc2Vydm95X3B1YmxpYy5zZXJ2aWNlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW3N2eVVwbG9hZF0nXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgQElucHV0KCkgZm9ybW5hbWU6IHN0cmluZztcbiAgICBASW5wdXQoKSBjb21wb25lbnROYW1lOiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIHVybDogc3RyaW5nO1xuICAgIHByaXZhdGUgcHJvcGVydHlOYW1lID0gJ2RhdGFQcm92aWRlcklEJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2Vydm95U2VydmljZTogU2Vydm95UHVibGljU2VydmljZSkge1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJykgY2xpY2soZTogRXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXJ2b3lTZXJ2aWNlLnNob3dGaWxlT3BlbkRpYWxvZygnUGxlYXNlIHNlbGVjdCBhIGZpbGUnLCBmYWxzZSwgbnVsbCwgdGhpcy51cmwpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVybCA9IHRoaXMuc2Vydm95U2VydmljZS5nZW5lcmF0ZVVwbG9hZFVybCh0aGlzLmZvcm1uYW1lLCB0aGlzLmNvbXBvbmVudE5hbWUsIHRoaXMucHJvcGVydHlOYW1lKTtcbiAgICB9XG5cbn1cbiJdfQ==